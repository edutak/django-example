{% extends 'base.html' %}
{% load bootstrap4 %}

{% block body %}
    <h1>{{ article.pk }}번 글</h1>
    <h2>{{ article.title }}</h2>
    <h3>글쓴이 : {{ article.user.username }}</h3>
    <p>생성 : {{ article.created_at }}</p>
    <p>수정 : {{ article.updated_at }}</p>
    <hr>
    <p>{{ article.content }}</p>
    <hr>
    {% if article.user == request.user  %}
    <form action="{% url 'articles:delete' article.pk %}" method="POST" class="d-inline">
        {% csrf_token %}
        <button class="btn btn-primary">삭제</button>
    </form>
    <a href="{% url 'articles:update' article.pk %}"><button class="btn btn-primary">수정</button></a>
    {% endif %}
    <hr>
    <h3>댓글</h3>
    {% for comment in article.comment_set.all %}
        <li>{{ comment.user.username }} : {{ comment.content }}</li>
    {% endfor %}
    <hr>
    <form action="{% url 'articles:comments_create' article.pk %}" method="POST">
        {% csrf_token %}
        {% bootstrap_form form %}
        <button class="btn btn-primary">작성</button>
    </form>

{% endblock %}